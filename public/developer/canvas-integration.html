<!DOCTYPE html>
<html ng-app="corespring-dev">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="google-site-verification" content="-wfxFrZYKKRpF5_-V-G9g1wk5e8HrF2zKc-FKJ-NhNE"/>
    <title>Developers</title>
    <link href='http://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700' rel='stylesheet' type='text/css'>
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="/assets/public/css/bootstrap-overrides.css" rel="stylesheet" type="text/css" media="all">

    <!--
    <link href="css/app.css" rel="stylesheet" type="text/css" media="all" />
    -->
    <link href="css/new_app.css" rel="stylesheet" type="text/css" media="all"/>
    <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon"/>
    <script type="text/javascript" src="js/vendor/less/1.3.0/less-1.3.0.min.js"></script>
    <script type="text/javascript" src="js/vendor/jquery/1.8.0/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="js/vendor/ie.support/jQuery.XDomainRequest.js"></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap.js"></script>
    <script type="text/javascript" src="js/vendor/underscore/1.3.3/underscore-min.js"></script>
    <script type="text/javascript" src="js/vendor/angular/1.0.1/angular-1.0.1.js"></script>
    <script type="text/javascript" src="js/vendor/angular/1.0.1/angular-resource-1.0.1.js"></script>
    <script type="text/javascript" src="js/vendor/waypoint/waypoints.js"></script>
    <script type="text/javascript" src="js/corespring/directives.js"></script>
    <script type="text/javascript" src="js/corespring/app.js"></script>

    <script type="text/javascript">

        //support ie cross domain calls
        $.support.cors = true;


        window.com = ( window.com || {} );
        window.com.linkDump = (com.linkDump || {} );

        function navigateToLink(hash, nudge) {

            nudge = (nudge || 0);

            var $target = $(hash);
            $target = $target.length && $target || $('[name=' + hash.slice(1) + ']');
            if ($target.length) {
                var targetOffset = $target.offset().top - 120 + nudge;
                $('html,body').animate({scrollTop: targetOffset}, 200);
                return false;
            }
        }


        $(document).ready(function () {


            $('a[href*=#]').click(function () {

                if (this.hash.indexOf("acc") == 1) {
                    return true;
                }

                if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
                        && location.hostname == this.hostname) {
                    console.log("navigateToLink: " + this.hash)
                    navigateToLink(this.hash);
                    window.location.hash = this.hash;
                    return false;
                }
            });


            function setContentDivHeight() {
                //$(".main-content").height( $(window).height() - 70);
            }

            $(window).bind('resize', function () {
                setContentDivHeight();
            });

            setContentDivHeight();

            $(".accordion-body").on("shown", function () {
                com.linkDump.activeAccordion = this;
            });

            $(".api-well").find("a").click(function () {

                $(".api-well").find("a").parent().removeClass("active");
                $(this).parent().addClass("active");

                $(".waypoint").waypoint('destroy');
                setTimeout(initWaypoints, 200);
            });

            function initWaypoints() {
                /**
                 * Disabling this for now as its a bit ropey.
                 */
                //$(".waypoint").waypoint( waypointHandler, { context: $(".main-content"), onlyOnScroll: true });
            };


            function activateLinkAndOpenAccordian($link) {

                $link.parent().addClass("active");
                var incomingAccordion = $link.closest(".accordion-body")[0];


                if (com.linkDump.activeAccordion == incomingAccordion) {
                    return;
                }

                $(com.linkDump.activeAccordion).collapse("hide");

                setTimeout(function () {
                    $(incomingAccordion).collapse("show");
                    com.linkDump.activeAccordion = incomingAccordion;
                }, 200);
            }


            function waypointHandler(event, direction) {
                var name = $(event.currentTarget).attr('name');
                //window.location.hash = name;
                //console.log("name: " + name)
                $(".api-well").find("a").parent().removeClass("active");
                var $menuLink = $(".api-well").find('a[href$="' + name + '"]');
                activateLinkAndOpenAccordian($menuLink);
            }

            if (window.location.hash) {

                var activeLink = $(".api-well").find('a[href$="' + window.location.hash + '"]');
                activateLinkAndOpenAccordian(activeLink);
            }

            setTimeout(initWaypoints, 200);

            setTimeout(function () {
                navigateToLink(window.location.hash, -10)
            }, 300);

        });
    </script>
</head>

<body ng-controller="MainController">

<div class="header-wrap">
    <div class="container">
        <header class="header">
            <div class="logo-new">
                <a class="img-link" href="/">
                    <img src="/assets/public/images/logo-new.png" alt="CoreSpring">
                </a>
            </div>

            <nav class="nav" align="right">
                <div class="navbar">
                    <div class="">
                        <div class="container">

                            <div class="nav-collapse">
                                <ul class="nav">
                                    <li><a id="edu-nav" href="/public/educators">Educators</a></li>
                                    <li><a id="dev-nav" class="active" href="/developer/home">developers</a></li>
                                    <li><a id="partner-nav" href="/public/partnerships">partnerships</a></li>
                                    <li><a id="about-nav" href="/public/about">about</a></li>
                                    <li><a id="contact-nav" href="/public/contact">contact</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>

        </header>
    </div>
</div>

<div class="title-wrap">
</div>


<div class="container main-container">
    <div class="well api-well" style="padding: 8px 0; width: 240px;">
        <ul class="nav nav-list">
  <li><a href="/developer/home" class="main-menu">Back</a></li>
</ul>
    </div>
    <!-- main content -->
    <div class="main-content">
        <h2>Canvas Integration</h2>

<p>We assume that you already have registered and have a client id + secret created for you. If not please <a href="/todo">see here</a>.</p>

<h2>Add CoreSpring as an external tool</h2>

<ul>
<li>Login to Canvas and create a new course</li>
<li>Go to settings and click 'Add External Tool'</li>
<li>Add your settings as below:</li>
</ul>


<br/>


<p><img src="/developer/images/canvas/external_tool_1.png"/></p>

<br/>


<p>For the url use:
<em>https://corespring.org/lti/item-chooser.xml</em></p>

<ul>
<li>Click 'Save tool settings'</li>
</ul>


<h2>Use the tool for the first time</h2>

<p>When you use the tool for the first time, Canvas will launch it in a popup. Once you have assigned an item and you go to view the assignment as a teacher you'll see the CoreSpring app embedded in Canvas.</p>

<ul>
<li>Go to assignments</li>
<li>Create a new assigment</li>
<li>For tool type choose 'External Tool'</li>
</ul>


<br/>


<p><img src="/developer/images/canvas/external_tool_2.png"/></p>

<ul>
<li>Click update</li>
<li>Edit the assignment - you should see a popup with the external tool you just created</li>
</ul>


<br/>


<p><img src="/developer/images/canvas/external_tool_3.png"/></p>

<br/>


<ul>
<li>Launch the tool - you can now browse content and select corespring items.</li>
</ul>


<p><em>Be sure to save your changes in Canvas too</em></p>

<h2>The tool</h2>

<p>The tool allows you to browse for items and assign one to the Canvas assignment. You can unassign the item and browse more up until the time that a student has interacted with the corespring item. After that you can't unassign the item.</p>

    </div>
    <div class="dev-login-box" ng-controller="DeveloperCtrl">
        <div ng-switch on="authState">
            <div ng-switch-when="noauth">
                <ul>
                    <li>
                            <span><a href="/developer/login">Login</a> | <a
                                    href="/developer/register">Register</a></span>
                    </li>
                </ul>
            </div>
            <div ng-switch-when="noorg">
                <ul>
                    <li>
                            <span>{{username}} <a href="/developer/logout">logout</a> | <a
                                    href="/developer/org/form">register organization</a></span>
                    </li>
                </ul>
            </div>
            <div ng-switch-when="registered">
                <ul>
                    <li>
                            <span>{{username}} [<a
                                    ng-href="/developer/org/{{org.id}}">{{org.name}}</a>] | <a
                                    href="/developer/logout">Logout</a></span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>

