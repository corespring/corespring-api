@(configId: ObjectId, selectionDirective: String, returnUrl: String)

@import org.bson.types.ObjectId
<!doctype html>
<html lang="en" ng-app="lti-chooser">
  <head>
    @common.views.html.head.coreJs()
    @common.views.html.head.bootstrap()
    @common.views.html.head.ubuntu()
    @common.views.html.head.angular()
    @common.views.html.head.corespringCommon()
    @common.views.html.head.fieldValues()
    @common.views.html.head.corespringNgComponents()
    @web.views.html.head.taggerApp(Seq())

    <script type="text/javascript" src="http://fgnass.github.com/spin.js/dist/spin.min.js"></script>

  <link href="/assets/stylesheets/app.css" rel="stylesheet"/>
  <link href="/assets/stylesheets/lti-item-chooser.css" rel="stylesheet"/>

    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/app.js"></script>
    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/controllers/MainController.js"></script>
    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/controllers/BrowseController.js"></script>
    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/controllers/SearchController.js"></script>
    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/controllers/ViewItemController.js"></script>
    <script type="text/html" src="/lti/chooser/partials/view"></script>
    <script type="text/javascript">
      (function () {
          angular.module('lti-chooser')
            .factory("Config", function () {
                return {
                  configurationId: "@configId",
                  selectionDirective: "@selectionDirective",
                  returnUrl: "@returnUrl"
                };
            });
      })();
    </script>
  </head>
  <body style="padding:0px;" ng-controller="LtiChooserController">

    <div confirm-popup
      ng-model="config.itemId"
      confirmed="onUnassignConfirmed" class="confirm-popup">
      <h2>Unassign</h2>
      <p>Are you sure?</p>
      <button id="confirm">Yes</button>
      <button id="cancel">No</button>
    </div>

    <div class="navbar navbar-fixed-top" ng-controller="SearchController">
      <div class="header" ng-show="showSearch()">
      <table style= "width:100%; margin-top:3px;">
        <tr>
          <td valign="center" style="min-width:80px; max-width:80px;text-align:center;">
            <img
            src="/assets/images/cs-primary-web77x28.png"
            alt="Corespring"/>
          </td>
          <td class="lti-reset"><a ng-click="clear()">Clear</a></td>
          <td class="nav-vr"><div></div></td>
          <td valign="center" style="min-width:150px; max-width:150px; padding: 5px 0 5px 0px;">
            <span multi-select
              multi-get-title="getCollectionTitle"
              multi-options="collections"
              multi-change="search"
              multi-uid="name"
              multi-model="searchParams.collection">
              <div id="summary">
                <div class="multi-title-text"> COLLECTION</div>
                <div class="selected-multi-options" ng-bind-html-unsafe="getCollectionSelectedTitle(selected)"></div>
              </div>
            </span>
          </td>
          <td class="nav-vr"><div></div></td>
          <td valign="center" style="min-width:150px; max-width:150px; padding: 5px 0 5px 0px;">
            <span multi-select
              multi-get-title="getTitle"
              multi-get-selected-title="getSelectedTitle"
              multi-options="gradeLevelDataProvider"
              multi-change="search"
              multi-model="searchParams.gradeLevel">
              <div id="summary">
                <div class="multi-title-text">GRADE LEVEL</div>
                <div class="selected-multi-options" ng-bind-html-unsafe="getSelectedTitle(selected)"></div>
              </div>
            </span>
          </td>
          <td class="nav-vr"><div></div></td>
          <td valign="center" style="min-width:126px;, max-width:126px;">
            <div class="input-append pull-left">

            <input placeholder="Search"
              ng-model="searchParams.searchText"
              ng-change="search() "
              class="span2 search-input"
              id="appendedInput"
              type="text"/>
              <span class="add-on">
                <i class="icon-search"></i>
              </span>
            </div>
          </td>
          <td style="min-width:45px, max-width:45px">
            <div class="item-count">{{getItemCountLabel(itemCount)}}</div>
          </td>
       </tr>
      </table>
      </div>

      <div class="header"
           result-pager
           load-item="loadItem"
           load-more="loadMore"
           list-model="items"
           item-count="itemCount"
           current-item="item"
          ng-show="showPager()">
         <table style="width:100%">
             <tr>
                 <td valign="center">
                   <img
                     src="/assets/images/round_logo.png"
                     alt="Corespring"/>
                   <span><a ng-show="items" ng-click="returnToSearch()">HOME</a></span>
                 </td>
                 <td>
                     <ul class="pager" ng-show="items">
                         <li class="pull-right">
                             <a class="cs-icon-link" ng-click="next()">
                                 <i class="icon-white icon-arrow-right"></i>
                             </a>
                         </li>
                         <li class="pull-right">
                             <a class="cs-icon-link" ng-click="previous()">
                                 <i class="icon-white icon-arrow-left"></i>
                             </a>
                         </li>
                         <li class="pull-right"><div class="pager-text">{{pagerText}}</div></li>
                     </ul>
                 </td>
             </tr>
         </table>
      </div>

      <div class="navbar-bottom"></div>

    </div>

    <div class="main-content-holder">
      <div class="main-content">
        <div ng-view></div>
      </div>
    </div>
  </body>
</html>