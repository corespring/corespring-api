@(configId: ObjectId, selectionDirective: String, returnUrl: String)

@import org.bson.types.ObjectId
<!doctype html>
<html lang="en" ng-app="lti-chooser">
  <head>
    @common.views.html.head.coreJs()
    @common.views.html.head.bootstrap()
    @common.views.html.head.ubuntu()
    @common.views.html.head.angular()
    @common.views.html.head.corespringCommon()
    @common.views.html.head.fieldValues()
    @common.views.html.head.corespringNgComponents()
    @web.views.html.head.taggerApp(Seq())

    <script type="text/javascript" src="http://fgnass.github.com/spin.js/dist/spin.min.js"></script>

  <link href="/assets/stylesheets/app.css" rel="stylesheet"/>
  <link href="/assets/stylesheets/lti-item-chooser.css" rel="stylesheet"/>

    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/app.js"></script>
    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/controllers/MainController.js"></script>
    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/controllers/BrowseController.js"></script>
    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/controllers/SearchController.js"></script>
    <script type="text/javascript" src="/assets/js/corespring/lti-chooser/controllers/ViewItemController.js"></script>
    <script type="text/html" src="/lti/chooser/partials/view"></script>
    <script type="text/javascript">
      (function () {
          angular.module('lti-chooser')
            .factory("Config", function () {
                return {
                  configurationId: "@configId",
                  selectionDirective: "@selectionDirective",
                  returnUrl: "@returnUrl"
                };
            });
      })();
    </script>
  </head>
  <body style="padding:0px;" ng-controller="LtiChooserController">

    <div confirm-popup
      ng-model="config.itemId"
      confirmed="onUnassignConfirmed" class="confirm-popup">
      <h2>Unassign</h2>
      <p>Are you sure you want to unassign this item?</p>
      <button class="btn" id="confirm">Yes</button>
      <button class="btn" id="cancel">No</button>
    </div>

    <div class="navbar navbar-fixed-top" ng-controller="SearchController">
      <div class="header" ng-show="showSearch()">
      <table class="fixed lti-nav" style= "width:100%; margin-top:3px;">
        <tr>
          <td class="lti-logo">
            <img
            src="/assets/images/cs-primary-web77x28.png"
            alt="Corespring" height="28" width="77"/>
          </td>
          <td class="nav-vr"><div></div></td>
          <td class="lti-collections">
            <span multi-select
              multi-get-title="getCollectionTitle"
              multi-options="collections"
              multi-change="search"
              multi-uid="name"
              multi-model="searchParams.collection">
              <div class="summary">
                <div class="multi-title-text collection"> COLLECTION <span class="caret"></span></div>
                <div class="selected-multi-options collection" ng-bind-html-unsafe="getCollectionSelectedTitle(selected)"></div>
              </div>
            </span>
          </td>
          <td class="nav-vr"><div></div></td>
          <td class="lti-grade-level">
            <span multi-select
              multi-get-title="getTitle"
              multi-get-selected-title="getSelectedTitle"
              multi-options="gradeLevelDataProvider"
              multi-change="search"
              multi-model="searchParams.gradeLevel">
              <div class="summary">
                <div class="multi-title-text grade-level">GRADE LEVEL <span class="caret"></span></div>
                <div class="selected-multi-options grade-level" ng-bind-html-unsafe="getSelectedTitle(selected)"></div>
              </div>
            </span>
          </td>
          <td class="nav-vr"><div></div></td>
          <td class="lti-search">
            <div class="input-append pull-left">

            <input placeholder="Search"
              ng-model="searchParams.searchText"
              ng-change="search() "
              class="span2 search-input"
              id="appendedInput"
              type="text"/>
              <span class="add-on">
                <i class="icon-search"></i>
              </span>
            </div>
            <div class="item-count">{{getItemCountLabel(itemCount)}}</div>
            <div class="lti-reset"><a ng-click="clear()">Clear</a></div>
          </td>
       </tr>
      </table>
      </div>

      <div class="header"
           result-pager
           load-item="loadItem"
           load-more="loadMore"
           list-model="items"
           item-count="itemCount"
           current-item="item"
          ng-show="showPager()">
         <table class="fixed lti-nav" style= "width:100%; margin-top:4px;">
             <tr>
             <td class="lti-logo">
                              <a ng-show="items" ng-click="returnToSearch()"><img
            src="/assets/images/cs-primary-web77x28.png"
            alt="Corespring" height="28" width="77"/></a>
          </td>
                 <td>
                     <ul class="pager" ng-show="items">
                         <li class="pull-right">
                             <a class="cs-icon-link" ng-click="next()">
                                 <i class="icon-white icon-arrow-right"></i>
                             </a>
                         </li>
                         <li class="pull-right">
                             <a class="cs-icon-link" ng-click="previous()">
                                 <i class="icon-white icon-arrow-left"></i>
                             </a>
                         </li>
                         <li class="pull-right"><div class="pager-text">{{pagerText}}</div></li>
                     </ul>
                 </td>
             </tr>
         </table>
      </div>

      <div class="navbar-bottom"></div>

    </div>

    <div class="main-content-holder">
      <div class="main-content">
        <div ng-view></div>
      </div>
    </div>
  </body>
</html>